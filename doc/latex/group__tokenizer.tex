\hypertarget{group__tokenizer}{}\doxysection{Tokenizer}
\label{group__tokenizer}\index{Tokenizer@{Tokenizer}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{group__tokenizer_gac0bb8a0baa2e72a8039d67dce7e1f932}{is\+\_\+ident\+\_\+char}} (int c)
\begin{DoxyCompactList}\small\item\em check if character is part of an identifier. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group__tokenizer_gac14b69463fdf48ba3a5b30ee34da28c7}\label{group__tokenizer_gac14b69463fdf48ba3a5b30ee34da28c7}} 
bool {\bfseries is\+\_\+binary\+\_\+char} (int c)
\item 
bool \mbox{\hyperlink{group__tokenizer_ga4bf03a3ab8e415fcfac82f43bc854320}{src\+\_\+clear}} ()
\item 
bool \mbox{\hyperlink{group__tokenizer_gaaff46ce87fa716bfd3c55495d26cef23}{src\+\_\+add}} (const char $\ast$line)
\item 
bool \mbox{\hyperlink{group__tokenizer_ga84a9f5c743eb6a718086ec1a385ed8f7}{src\+\_\+read}} (const char $\ast$name)
\item 
bool \mbox{\hyperlink{group__tokenizer_ga9f6e95f5f532bca8482e2bd5d309df94}{src\+\_\+dump}} ()
\item 
bool \mbox{\hyperlink{group__tokenizer_ga986d1e4dee1be06e31a781ce4b847fe0}{read\+Line}} ()
\begin{DoxyCompactList}\small\item\em read one line from stdin stores the result into {\ttfamily }\{gd.\+line\}. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{group__tokenizer_ga4f2be419c946530de61fcc5bd922b961}{read\+Char}} (char $\ast$t)
\begin{DoxyCompactList}\small\item\em read one character from input and store it somewhere. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{group__tokenizer_gaca69499fef7287dfec40541fe204f94c}{read\+String\+Token}} (void)
\begin{DoxyCompactList}\small\item\em read string token. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group__tokenizer_ga3caa61bb0b2f9335f48d911a85bb493f}\label{group__tokenizer_ga3caa61bb0b2f9335f48d911a85bb493f}} 
void {\bfseries parse\+\_\+verbatim} (char c)
\item 
bool \mbox{\hyperlink{group__tokenizer_gacb8666cde3ece1af4829c28d0f7c5022}{next\+Token}} (void)
\begin{DoxyCompactList}\small\item\em read next token. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
convert stdin into tokens. each token is returned by the call to \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__tokenizer_gacb8666cde3ece1af4829c28d0f7c5022}{next\+Token}}. 
\end{DoxySeeAlso}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{group__tokenizer_gac0bb8a0baa2e72a8039d67dce7e1f932}\label{group__tokenizer_gac0bb8a0baa2e72a8039d67dce7e1f932}} 
\index{Tokenizer@{Tokenizer}!is\_ident\_char@{is\_ident\_char}}
\index{is\_ident\_char@{is\_ident\_char}!Tokenizer@{Tokenizer}}
\doxysubsubsection{\texorpdfstring{is\_ident\_char()}{is\_ident\_char()}}
{\footnotesize\ttfamily bool is\+\_\+ident\+\_\+char (\begin{DoxyParamCaption}\item[{int}]{c }\end{DoxyParamCaption})}



check if character is part of an identifier. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em c} & character to classify. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if if c is an identifier character. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00223                             \{}
\DoxyCodeLine{00224     \textcolor{keywordflow}{return} isalpha( c ) || isdigit( c ) || c == \textcolor{charliteral}{'\_'};}
\DoxyCodeLine{00225 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{group__tokenizer_gacb8666cde3ece1af4829c28d0f7c5022}{next\+Token()}}.

\mbox{\Hypertarget{group__tokenizer_gacb8666cde3ece1af4829c28d0f7c5022}\label{group__tokenizer_gacb8666cde3ece1af4829c28d0f7c5022}} 
\index{Tokenizer@{Tokenizer}!nextToken@{nextToken}}
\index{nextToken@{nextToken}!Tokenizer@{Tokenizer}}
\doxysubsubsection{\texorpdfstring{nextToken()}{nextToken()}}
{\footnotesize\ttfamily bool next\+Token (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



read next token. 

This is a more detailed description.

\begin{DoxyReturn}{Returns}
true if successful 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00378                    \{}
\DoxyCodeLine{00379     \textcolor{keywordtype}{char} c;}
\DoxyCodeLine{00380     \textcolor{keywordtype}{bool} result = \textcolor{keyword}{false};}
\DoxyCodeLine{00381     \textcolor{keywordflow}{while}( \textcolor{keyword}{true} ) \{}
\DoxyCodeLine{00382         \textcolor{keywordflow}{while}( \mbox{\hyperlink{group__tokenizer_ga4f2be419c946530de61fcc5bd922b961}{readChar}}( \&c ) \&\& isspace( c ) );}
\DoxyCodeLine{00383         \textcolor{keywordflow}{if}( c == \textcolor{charliteral}{'"{}'} ) \{}
\DoxyCodeLine{00384             \textcolor{keywordflow}{while}( \mbox{\hyperlink{group__tokenizer_ga4f2be419c946530de61fcc5bd922b961}{readChar}}( \&c ) \&\& c != \textcolor{charliteral}{'"{}'} );}
\DoxyCodeLine{00385         \}}
\DoxyCodeLine{00386         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00387             \textcolor{keywordflow}{break};}
\DoxyCodeLine{00388     \}}
\DoxyCodeLine{00389     \textcolor{keywordflow}{if}( \mbox{\hyperlink{structgd}{gd}}.state == 1 ) \{}
\DoxyCodeLine{00390         \textcolor{keywordflow}{if}( isalpha( c ) ) \{}
\DoxyCodeLine{00391             \textcolor{keywordtype}{int} idx = 0;}
\DoxyCodeLine{00392             \textcolor{keywordflow}{for}( ;; ) \{}
\DoxyCodeLine{00393                 \mbox{\hyperlink{structgd}{gd}}.buf[idx++] = c;}
\DoxyCodeLine{00394                 \mbox{\hyperlink{group__tokenizer_ga4f2be419c946530de61fcc5bd922b961}{readChar}}( \&c );}
\DoxyCodeLine{00395                 \textcolor{keywordflow}{if}( !\mbox{\hyperlink{group__tokenizer_gac0bb8a0baa2e72a8039d67dce7e1f932}{is\_ident\_char}}( c ) )}
\DoxyCodeLine{00396                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00397             \}}
\DoxyCodeLine{00398             \textcolor{keywordflow}{if}( c == \textcolor{charliteral}{':'} ) \{}
\DoxyCodeLine{00399                 \mbox{\hyperlink{structgd}{gd}}.buf[idx++] = c;}
\DoxyCodeLine{00400                 \mbox{\hyperlink{structgd}{gd}}.token = TK\_KEYWORD;}
\DoxyCodeLine{00401             \}}
\DoxyCodeLine{00402             \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00403                 \mbox{\hyperlink{structgd}{gd}}.pos-\/-\/;}
\DoxyCodeLine{00404                 \mbox{\hyperlink{structgd}{gd}}.token = TK\_IDENT;}
\DoxyCodeLine{00405             \}}
\DoxyCodeLine{00406             \mbox{\hyperlink{structgd}{gd}}.buf[idx] = 0;}
\DoxyCodeLine{00407             result = \textcolor{keyword}{true};}
\DoxyCodeLine{00408         \}}
\DoxyCodeLine{00409         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( is\_binary\_char( c ) ) \{}
\DoxyCodeLine{00410             \textcolor{keywordflow}{for}( \textcolor{keywordtype}{int} idx = 0; is\_binary\_char( c ); idx++ ) \{}
\DoxyCodeLine{00411                 \mbox{\hyperlink{structgd}{gd}}.buf[idx] = c;}
\DoxyCodeLine{00412                 \mbox{\hyperlink{structgd}{gd}}.buf[idx + 1] = 0;}
\DoxyCodeLine{00413                 \mbox{\hyperlink{group__tokenizer_ga4f2be419c946530de61fcc5bd922b961}{readChar}}( \&c );}
\DoxyCodeLine{00414             \}}
\DoxyCodeLine{00415             \mbox{\hyperlink{structgd}{gd}}.pos-\/-\/;}
\DoxyCodeLine{00416             \mbox{\hyperlink{structgd}{gd}}.token = 0;}
\DoxyCodeLine{00417             \mbox{\hyperlink{structgd}{gd}}.token = TK\_BINOP;}
\DoxyCodeLine{00418             result = \textcolor{keyword}{true};}
\DoxyCodeLine{00419             \textcolor{keywordflow}{if}( strcmp( \textcolor{stringliteral}{"{}:="{}}, \mbox{\hyperlink{structgd}{gd}}.buf ) == 0 ) \{}
\DoxyCodeLine{00420                 \mbox{\hyperlink{structgd}{gd}}.token = TK\_ASSIGN;}
\DoxyCodeLine{00421                 result = \textcolor{keyword}{true};}
\DoxyCodeLine{00422             \}}
\DoxyCodeLine{00423             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( strcmp( \textcolor{stringliteral}{"{}<-\/"{}}, \mbox{\hyperlink{structgd}{gd}}.buf ) == 0 ) \{}
\DoxyCodeLine{00424                 \mbox{\hyperlink{structgd}{gd}}.token = TK\_LARROW;}
\DoxyCodeLine{00425                 result = \textcolor{keyword}{true};}
\DoxyCodeLine{00426             \}}
\DoxyCodeLine{00427             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( strcmp( \textcolor{stringliteral}{"{}|"{}}, \mbox{\hyperlink{structgd}{gd}}.buf ) == 0 ) \{}
\DoxyCodeLine{00428                 \mbox{\hyperlink{structgd}{gd}}.token = TK\_BAR;}
\DoxyCodeLine{00429                 result = \textcolor{keyword}{true};}
\DoxyCodeLine{00430             \}}
\DoxyCodeLine{00431             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( 0 == strcmp( \textcolor{stringliteral}{"{}<"{}}, \mbox{\hyperlink{structgd}{gd}}.buf ) ) \{}
\DoxyCodeLine{00432                 \mbox{\hyperlink{structgd}{gd}}.token = TK\_LT;}
\DoxyCodeLine{00433                 result = \textcolor{keyword}{true};}
\DoxyCodeLine{00434             \}}
\DoxyCodeLine{00435             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( 0 == strcmp( \textcolor{stringliteral}{"{}>"{}}, \mbox{\hyperlink{structgd}{gd}}.buf ) ) \{}
\DoxyCodeLine{00436                 \mbox{\hyperlink{structgd}{gd}}.token = TK\_GT;}
\DoxyCodeLine{00437                 result = \textcolor{keyword}{true};}
\DoxyCodeLine{00438             \}}
\DoxyCodeLine{00439         \}}
\DoxyCodeLine{00440         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( isdigit( c ) ) \{}
\DoxyCodeLine{00441             \textcolor{keywordtype}{int} idx = 0;}
\DoxyCodeLine{00442             \textcolor{keywordflow}{while}( isdigit( c ) ) \{}
\DoxyCodeLine{00443                 printf(\textcolor{stringliteral}{"{}\#\#\# digit \%c\(\backslash\)n"{}}, c);}
\DoxyCodeLine{00444                 \mbox{\hyperlink{structgd}{gd}}.buf[idx++] = c;}
\DoxyCodeLine{00445                 \mbox{\hyperlink{structgd}{gd}}.buf[idx] = 0;}
\DoxyCodeLine{00446                 \mbox{\hyperlink{group__tokenizer_ga4f2be419c946530de61fcc5bd922b961}{readChar}}( \&c );}
\DoxyCodeLine{00447             \}}
\DoxyCodeLine{00448             \mbox{\hyperlink{structgd}{gd}}.pos-\/-\/;}
\DoxyCodeLine{00449             \mbox{\hyperlink{structgd}{gd}}.token = TK\_NUMBER;}
\DoxyCodeLine{00450             result = \textcolor{keyword}{true};}
\DoxyCodeLine{00451         \}}
\DoxyCodeLine{00452         \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00453             \textcolor{keywordflow}{switch} ( c ) \{}
\DoxyCodeLine{00454                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'\(\backslash\)''}:}
\DoxyCodeLine{00455                     result = \mbox{\hyperlink{group__tokenizer_gaca69499fef7287dfec40541fe204f94c}{readStringToken}}(  );}
\DoxyCodeLine{00456                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00457                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'.'}:}
\DoxyCodeLine{00458                     result = \textcolor{keyword}{true};}
\DoxyCodeLine{00459                     \mbox{\hyperlink{structgd}{gd}}.token = TK\_DOT;}
\DoxyCodeLine{00460                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00461                 \textcolor{keywordflow}{case} \textcolor{charliteral}{';'}:}
\DoxyCodeLine{00462                     result = \textcolor{keyword}{true};}
\DoxyCodeLine{00463                     \mbox{\hyperlink{structgd}{gd}}.token = TK\_SEMICOLON;}
\DoxyCodeLine{00464                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00465                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'('}:}
\DoxyCodeLine{00466                     result = \textcolor{keyword}{true};}
\DoxyCodeLine{00467                     \mbox{\hyperlink{structgd}{gd}}.token = TK\_LPAREN;}
\DoxyCodeLine{00468                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00469                 \textcolor{keywordflow}{case} \textcolor{charliteral}{')'}:}
\DoxyCodeLine{00470                     result = \textcolor{keyword}{true};}
\DoxyCodeLine{00471                     \mbox{\hyperlink{structgd}{gd}}.token = TK\_RPAREN;}
\DoxyCodeLine{00472                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00473                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'['}:}
\DoxyCodeLine{00474                     result = \textcolor{keyword}{true};}
\DoxyCodeLine{00475                     \mbox{\hyperlink{structgd}{gd}}.token = TK\_LBRACK;}
\DoxyCodeLine{00476                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00477                 \textcolor{keywordflow}{case} \textcolor{charliteral}{']'}:}
\DoxyCodeLine{00478                     result = \textcolor{keyword}{true};}
\DoxyCodeLine{00479                     \mbox{\hyperlink{structgd}{gd}}.token = TK\_RBRACK;}
\DoxyCodeLine{00480                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00481                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'\{'}:}
\DoxyCodeLine{00482                     result = \textcolor{keyword}{true};}
\DoxyCodeLine{00483                     \mbox{\hyperlink{structgd}{gd}}.token = TK\_LBRACE;}
\DoxyCodeLine{00484                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00485                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'\}'}:}
\DoxyCodeLine{00486                     result = \textcolor{keyword}{true};}
\DoxyCodeLine{00487                     \mbox{\hyperlink{structgd}{gd}}.token = TK\_RBRACE;}
\DoxyCodeLine{00488                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00489                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'\#'}:}
\DoxyCodeLine{00490                     \mbox{\hyperlink{group__tokenizer_ga4f2be419c946530de61fcc5bd922b961}{readChar}}( \&c );}
\DoxyCodeLine{00491                     \textcolor{keywordflow}{for}( \textcolor{keywordtype}{int} idx = 0; \mbox{\hyperlink{group__tokenizer_gac0bb8a0baa2e72a8039d67dce7e1f932}{is\_ident\_char}}( c ) || c == \textcolor{charliteral}{':'}; idx++ ) \{}
\DoxyCodeLine{00492                         \mbox{\hyperlink{structgd}{gd}}.buf[idx] = c;}
\DoxyCodeLine{00493                         \mbox{\hyperlink{structgd}{gd}}.buf[idx + 1] = 0;}
\DoxyCodeLine{00494                         \mbox{\hyperlink{group__tokenizer_ga4f2be419c946530de61fcc5bd922b961}{readChar}}( \&c );}
\DoxyCodeLine{00495                     \}}
\DoxyCodeLine{00496                     \mbox{\hyperlink{structgd}{gd}}.pos-\/-\/;}
\DoxyCodeLine{00497                     \mbox{\hyperlink{structgd}{gd}}.token = TK\_SYMBOL;}
\DoxyCodeLine{00498                     result = \textcolor{keyword}{true};}
\DoxyCodeLine{00499                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00500                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'\string^'}:}
\DoxyCodeLine{00501                     result = \textcolor{keyword}{true};}
\DoxyCodeLine{00502                     \mbox{\hyperlink{structgd}{gd}}.token = TK\_UARROW;}
\DoxyCodeLine{00503                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00504                 \textcolor{keywordflow}{case} \textcolor{charliteral}{':'}:}
\DoxyCodeLine{00505                     result = \textcolor{keyword}{true};}
\DoxyCodeLine{00506                     \mbox{\hyperlink{structgd}{gd}}.token = TK\_COLON;}
\DoxyCodeLine{00507                     \mbox{\hyperlink{group__tokenizer_ga4f2be419c946530de61fcc5bd922b961}{readChar}}( \&c );}
\DoxyCodeLine{00508                     \textcolor{keywordflow}{if}( c == \textcolor{charliteral}{'='} ) \{}
\DoxyCodeLine{00509                         \mbox{\hyperlink{structgd}{gd}}.token = TK\_ASSIGN;}
\DoxyCodeLine{00510                     \}}
\DoxyCodeLine{00511                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00512                         \mbox{\hyperlink{structgd}{gd}}.pos-\/-\/;}
\DoxyCodeLine{00513                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00514                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'\$'}:}
\DoxyCodeLine{00515                     result = \textcolor{keyword}{true};}
\DoxyCodeLine{00516                     \mbox{\hyperlink{structgd}{gd}}.token = TK\_CHAR;}
\DoxyCodeLine{00517                     \mbox{\hyperlink{group__tokenizer_ga4f2be419c946530de61fcc5bd922b961}{readChar}}( \&c );}
\DoxyCodeLine{00518                     \mbox{\hyperlink{structgd}{gd}}.buf[0] = c;}
\DoxyCodeLine{00519                     \mbox{\hyperlink{structgd}{gd}}.buf[1] = 0;}
\DoxyCodeLine{00520                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00521                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00522                     \mbox{\hyperlink{structgd}{gd}}.pos-\/-\/;}
\DoxyCodeLine{00523                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00524             \}}
\DoxyCodeLine{00525         \}}
\DoxyCodeLine{00526     \}}
\DoxyCodeLine{00527     \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{00528 \}}

\end{DoxyCode}


References \mbox{\hyperlink{group__tokenizer_gac0bb8a0baa2e72a8039d67dce7e1f932}{is\+\_\+ident\+\_\+char()}}, and \mbox{\hyperlink{group__tokenizer_ga4f2be419c946530de61fcc5bd922b961}{read\+Char()}}.

\mbox{\Hypertarget{group__tokenizer_ga4f2be419c946530de61fcc5bd922b961}\label{group__tokenizer_ga4f2be419c946530de61fcc5bd922b961}} 
\index{Tokenizer@{Tokenizer}!readChar@{readChar}}
\index{readChar@{readChar}!Tokenizer@{Tokenizer}}
\doxysubsubsection{\texorpdfstring{readChar()}{readChar()}}
{\footnotesize\ttfamily bool read\+Char (\begin{DoxyParamCaption}\item[{char $\ast$}]{t }\end{DoxyParamCaption})}



read one character from input and store it somewhere. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em t} & c-\/string of some sort. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if successful 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00331                          \{}
\DoxyCodeLine{00332     \textcolor{keywordtype}{bool} result = \textcolor{keyword}{true};}
\DoxyCodeLine{00333     \textcolor{keywordflow}{if}( \mbox{\hyperlink{structgd}{gd}}.state == 0 ) \{}
\DoxyCodeLine{00334         result = \mbox{\hyperlink{group__tokenizer_ga986d1e4dee1be06e31a781ce4b847fe0}{readLine}}(  );}
\DoxyCodeLine{00335     \}}
\DoxyCodeLine{00336     \textcolor{keywordflow}{if}( result ) \{}
\DoxyCodeLine{00337         *t = \mbox{\hyperlink{structgd}{gd}}.line[\mbox{\hyperlink{structgd}{gd}}.pos++];}
\DoxyCodeLine{00338         \textcolor{keywordflow}{while}( *t == 0 ) \{}
\DoxyCodeLine{00339             \textcolor{keywordflow}{if}( \mbox{\hyperlink{group__tokenizer_ga986d1e4dee1be06e31a781ce4b847fe0}{readLine}}(  ) ) \{}
\DoxyCodeLine{00340                 *t = \mbox{\hyperlink{structgd}{gd}}.line[\mbox{\hyperlink{structgd}{gd}}.pos++];}
\DoxyCodeLine{00341             \}}
\DoxyCodeLine{00342             \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00343                 result = \textcolor{keyword}{false};}
\DoxyCodeLine{00344                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{00345             \}}
\DoxyCodeLine{00346         \}}
\DoxyCodeLine{00347     \}}
\DoxyCodeLine{00348     \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{00349 \}}

\end{DoxyCode}


References \mbox{\hyperlink{group__tokenizer_ga986d1e4dee1be06e31a781ce4b847fe0}{read\+Line()}}.



Referenced by \mbox{\hyperlink{group__tokenizer_gacb8666cde3ece1af4829c28d0f7c5022}{next\+Token()}}, and \mbox{\hyperlink{group__tokenizer_gaca69499fef7287dfec40541fe204f94c}{read\+String\+Token()}}.

\mbox{\Hypertarget{group__tokenizer_ga986d1e4dee1be06e31a781ce4b847fe0}\label{group__tokenizer_ga986d1e4dee1be06e31a781ce4b847fe0}} 
\index{Tokenizer@{Tokenizer}!readLine@{readLine}}
\index{readLine@{readLine}!Tokenizer@{Tokenizer}}
\doxysubsubsection{\texorpdfstring{readLine()}{readLine()}}
{\footnotesize\ttfamily bool read\+Line (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



read one line from stdin stores the result into {\ttfamily }\{gd.\+line\}. 

trailing blanks are removed. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00308                   \{}
\DoxyCodeLine{00309     \textcolor{keywordflow}{if}( \mbox{\hyperlink{structgd}{gd}}.src\_iter == NULL ) \{}
\DoxyCodeLine{00310         \mbox{\hyperlink{structgd}{gd}}.src\_iter = itab\_foreach( \mbox{\hyperlink{structgd}{gd}}.src );}
\DoxyCodeLine{00311     \}}
\DoxyCodeLine{00312     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00313         \mbox{\hyperlink{structgd}{gd}}.src\_iter = itab\_next( \mbox{\hyperlink{structgd}{gd}}.src\_iter );}
\DoxyCodeLine{00314     \}}
\DoxyCodeLine{00315     \textcolor{keywordflow}{if}( \mbox{\hyperlink{structgd}{gd}}.src\_iter ) \{}
\DoxyCodeLine{00316         \mbox{\hyperlink{structgd}{gd}}.line = itab\_value( \mbox{\hyperlink{structgd}{gd}}.src\_iter );}
\DoxyCodeLine{00317         \mbox{\hyperlink{structgd}{gd}}.line\_count++;}
\DoxyCodeLine{00318         printf( \textcolor{stringliteral}{"{}\%2d:\%s\(\backslash\)n"{}}, \mbox{\hyperlink{structgd}{gd}}.line\_count, \mbox{\hyperlink{structgd}{gd}}.line );}
\DoxyCodeLine{00319         \mbox{\hyperlink{structgd}{gd}}.pos = 0;}
\DoxyCodeLine{00320         \mbox{\hyperlink{structgd}{gd}}.state = 1;}
\DoxyCodeLine{00321         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00322     \}}
\DoxyCodeLine{00323     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00324         \mbox{\hyperlink{structgd}{gd}}.line = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00325         \mbox{\hyperlink{structgd}{gd}}.state = 2;}
\DoxyCodeLine{00326         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00327     \}}
\DoxyCodeLine{00328 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{group__tokenizer_ga4f2be419c946530de61fcc5bd922b961}{read\+Char()}}.

\mbox{\Hypertarget{group__tokenizer_gaca69499fef7287dfec40541fe204f94c}\label{group__tokenizer_gaca69499fef7287dfec40541fe204f94c}} 
\index{Tokenizer@{Tokenizer}!readStringToken@{readStringToken}}
\index{readStringToken@{readStringToken}!Tokenizer@{Tokenizer}}
\doxysubsubsection{\texorpdfstring{readStringToken()}{readStringToken()}}
{\footnotesize\ttfamily bool read\+String\+Token (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



read string token. 

\begin{DoxyReturn}{Returns}
true if successful 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00351                          \{}
\DoxyCodeLine{00352     \textcolor{keywordtype}{int} idx = 0;}
\DoxyCodeLine{00353     \textcolor{keywordtype}{char} c;}
\DoxyCodeLine{00354     \textcolor{keywordflow}{while}( \mbox{\hyperlink{group__tokenizer_ga4f2be419c946530de61fcc5bd922b961}{readChar}}( \&c ) \&\& \textcolor{charliteral}{'\(\backslash\)''} != c ) \{}
\DoxyCodeLine{00355         \textcolor{keywordflow}{if}( c == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'} )}
\DoxyCodeLine{00356             \mbox{\hyperlink{group__tokenizer_ga4f2be419c946530de61fcc5bd922b961}{readChar}}( \&c );}
\DoxyCodeLine{00357         \mbox{\hyperlink{structgd}{gd}}.buf[idx++] = c;}
\DoxyCodeLine{00358     \}}
\DoxyCodeLine{00359     \mbox{\hyperlink{structgd}{gd}}.buf[idx] = 0;}
\DoxyCodeLine{00360     \mbox{\hyperlink{structgd}{gd}}.token = TK\_STRING;}
\DoxyCodeLine{00361     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00362 \}}

\end{DoxyCode}


References \mbox{\hyperlink{group__tokenizer_ga4f2be419c946530de61fcc5bd922b961}{read\+Char()}}.

\mbox{\Hypertarget{group__tokenizer_gaaff46ce87fa716bfd3c55495d26cef23}\label{group__tokenizer_gaaff46ce87fa716bfd3c55495d26cef23}} 
\index{Tokenizer@{Tokenizer}!src\_add@{src\_add}}
\index{src\_add@{src\_add}!Tokenizer@{Tokenizer}}
\doxysubsubsection{\texorpdfstring{src\_add()}{src\_add()}}
{\footnotesize\ttfamily bool src\+\_\+add (\begin{DoxyParamCaption}\item[{const char $\ast$}]{ }\end{DoxyParamCaption})}

adding one line to the source that will be parsed. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00264                                  \{}
\DoxyCodeLine{00265     \textcolor{keywordtype}{int} n = \mbox{\hyperlink{group__itab_ga174bc92d89b1242a5f1b572d75a8816b}{itab\_lines}}( \mbox{\hyperlink{structgd}{gd}}.src );}
\DoxyCodeLine{00266     \textcolor{keywordtype}{char} buf[10];}
\DoxyCodeLine{00267     sprintf( buf, \textcolor{stringliteral}{"{}\%09d"{}}, n + 1 );}
\DoxyCodeLine{00268     itab\_append( \mbox{\hyperlink{structgd}{gd}}.src, buf, talloc\_strdup( \mbox{\hyperlink{structgd}{gd}}.src, line ) );}
\DoxyCodeLine{00269 \}}

\end{DoxyCode}


References \mbox{\hyperlink{group__itab_ga174bc92d89b1242a5f1b572d75a8816b}{itab\+\_\+lines()}}.

\mbox{\Hypertarget{group__tokenizer_ga4bf03a3ab8e415fcfac82f43bc854320}\label{group__tokenizer_ga4bf03a3ab8e415fcfac82f43bc854320}} 
\index{Tokenizer@{Tokenizer}!src\_clear@{src\_clear}}
\index{src\_clear@{src\_clear}!Tokenizer@{Tokenizer}}
\doxysubsubsection{\texorpdfstring{src\_clear()}{src\_clear()}}
{\footnotesize\ttfamily bool src\+\_\+clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

clear and initialize the source that will alter be parsed.

needs to be called before using {\itshape src\+\_\+add}. {\itshape src\+\_\+read} will do it automatically. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00253                    \{}
\DoxyCodeLine{00254     \textcolor{keywordflow}{if}( \mbox{\hyperlink{structgd}{gd}}.src ) \{}
\DoxyCodeLine{00255         talloc\_free( \mbox{\hyperlink{structgd}{gd}}.src );}
\DoxyCodeLine{00256     \}}
\DoxyCodeLine{00257     \mbox{\hyperlink{structgd}{gd}}.src = \mbox{\hyperlink{group__itab_gad9917bb373045636deee31d01936f67d}{itab\_new}}(  );}
\DoxyCodeLine{00258     \textcolor{keywordflow}{if}( \mbox{\hyperlink{structgd}{gd}}.src\_iter ) \{}
\DoxyCodeLine{00259         talloc\_free( \mbox{\hyperlink{structgd}{gd}}.src\_iter );}
\DoxyCodeLine{00260     \}}
\DoxyCodeLine{00261     \mbox{\hyperlink{structgd}{gd}}.src\_iter = NULL;}
\DoxyCodeLine{00262 \}}

\end{DoxyCode}


References \mbox{\hyperlink{group__itab_gad9917bb373045636deee31d01936f67d}{itab\+\_\+new()}}.



Referenced by \mbox{\hyperlink{group__tokenizer_ga84a9f5c743eb6a718086ec1a385ed8f7}{src\+\_\+read()}}.

\mbox{\Hypertarget{group__tokenizer_ga9f6e95f5f532bca8482e2bd5d309df94}\label{group__tokenizer_ga9f6e95f5f532bca8482e2bd5d309df94}} 
\index{Tokenizer@{Tokenizer}!src\_dump@{src\_dump}}
\index{src\_dump@{src\_dump}!Tokenizer@{Tokenizer}}
\doxysubsubsection{\texorpdfstring{src\_dump()}{src\_dump()}}
{\footnotesize\ttfamily bool src\+\_\+dump (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

dumps all the lines of the current source. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00295                   \{}
\DoxyCodeLine{00296     \textcolor{keywordflow}{for}( \textcolor{keyword}{struct} \mbox{\hyperlink{structitab__iter}{itab\_iter}} * x = itab\_foreach( \mbox{\hyperlink{structgd}{gd}}.src );}
\DoxyCodeLine{00297          x; x = itab\_next( x ) ) \{}
\DoxyCodeLine{00298         printf( \textcolor{stringliteral}{"{}\%s:\%s\(\backslash\)n"{}}, itab\_key( x ), itab\_value( x ) );}
\DoxyCodeLine{00299     \}}
\DoxyCodeLine{00300 \}}

\end{DoxyCode}
\mbox{\Hypertarget{group__tokenizer_ga84a9f5c743eb6a718086ec1a385ed8f7}\label{group__tokenizer_ga84a9f5c743eb6a718086ec1a385ed8f7}} 
\index{Tokenizer@{Tokenizer}!src\_read@{src\_read}}
\index{src\_read@{src\_read}!Tokenizer@{Tokenizer}}
\doxysubsubsection{\texorpdfstring{src\_read()}{src\_read()}}
{\footnotesize\ttfamily bool src\+\_\+read (\begin{DoxyParamCaption}\item[{const char $\ast$}]{name }\end{DoxyParamCaption})}

read file into itab.

read a file into src itab. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00274                                   \{}
\DoxyCodeLine{00275     FILE *f = fopen( name, \textcolor{stringliteral}{"{}r"{}} );}
\DoxyCodeLine{00276     \textcolor{keywordtype}{char} buf[1000];}
\DoxyCodeLine{00277     \textcolor{keywordtype}{char} *line;}
\DoxyCodeLine{00278     \textcolor{keywordtype}{int} line\_no = 1;}
\DoxyCodeLine{00279     \mbox{\hyperlink{group__tokenizer_ga4bf03a3ab8e415fcfac82f43bc854320}{src\_clear}}(  );}
\DoxyCodeLine{00280     \textcolor{keywordflow}{for}( ;; ) \{}
\DoxyCodeLine{00281         line = fgets( buf, \textcolor{keyword}{sizeof}( buf ), f );}
\DoxyCodeLine{00282         \textcolor{keywordflow}{if}( line == NULL )}
\DoxyCodeLine{00283             \textcolor{keywordflow}{break};}
\DoxyCodeLine{00284         \textcolor{keywordtype}{int} n = strlen( line );}
\DoxyCodeLine{00285         \textcolor{keywordflow}{while}( n > 0 \&\& isspace( line[-\/-\/n] ) )}
\DoxyCodeLine{00286             line[n] = 0;}
\DoxyCodeLine{00287         \textcolor{keywordtype}{char} line\_number[10];}
\DoxyCodeLine{00288         sprintf( line\_number, \textcolor{stringliteral}{"{}\%09d"{}}, line\_no );}
\DoxyCodeLine{00289         itab\_append( \mbox{\hyperlink{structgd}{gd}}.src, line\_number, talloc\_strdup( \mbox{\hyperlink{structgd}{gd}}.src, line ) );}
\DoxyCodeLine{00290         line\_no++;}
\DoxyCodeLine{00291     \}}
\DoxyCodeLine{00292     fclose( f );}
\DoxyCodeLine{00293 \}}

\end{DoxyCode}


References \mbox{\hyperlink{group__tokenizer_ga4bf03a3ab8e415fcfac82f43bc854320}{src\+\_\+clear()}}.

